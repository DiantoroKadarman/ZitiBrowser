<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>new browser</title>
    <!-- Memuat Tailwind CSS untuk styling modern -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* CSS Kustom */
      body {
        font-family:
          ui-sans-serif,
          system-ui,
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          Roboto,
          "Helvetica Neue",
          Arial,
          "Noto Sans",
          sans-serif,
          "Apple Color Emoji",
          "Segoe UI Emoji",
          "Segoe UI Symbol",
          "Noto Color Emoji";
        background-color: #f0f0f0; /* Latar belakang aplikasi terang */
        color: #333333;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        height: 100vh;
        overflow: hidden;
      }

      /* Sidebar collapsed */
      .sidebar {
        width: 16rem;
        transition: width 0.3s ease-in-out;
      }
      .sidebar.collapsed {
        width: 4rem;
      }

      #tabs-container.collapsed {
        width: 2rem !important;
        padding: 0.25rem !important;
      }

      /* Menyembunyikan Scrollbar */
      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }

      .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }

      /* Styling Tab Container (yang bertindak sebagai Sidebar di Arc) */
      #tabs-container {
        /* Mengatur agar tabs-container menjadi sidebar vertikal */
        display: flex;
        flex-direction: column;
        width: 16rem; /* Lebar default sidebar */
        background-color: #ffffff; /* Warna sidebar */
        border-right: 1px solid #e5e7eb;
        padding: 1rem;
        box-sizing: border-box;
        overflow-y: auto;
        /* Tambahkan transisi jika nanti ada fungsi collapse */
        transition: width 0.3s ease-in-out;
        flex-shrink: 0;
      }

      /* Container utama untuk webview */
      #main-content-wrapper {
        display: flex;
        flex-grow: 1;
        overflow: hidden;
      }

      /* Webview mengisi sisa ruang */
      #webview {
        flex-grow: 1;
        width: 100%;
        height: 100%;
        border: none;
      }

      /* Address Bar Styling */
      #url-input {
        flex-grow: 1;
        border: none;
        background: transparent;
        outline: none;
        padding: 0 1rem;
        height: 100%;
        font-size: 0.875rem; /* text-sm */
        color: #333333;
        border-radius: 9999px; /* rounded-full */
      }

      /* Tombol Navigasi */
      #button-container button {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 2rem;
        height: 2rem;
        border-radius: 9999px;
        background-color: #e5e7eb; /* bg-gray-200 */
        color: #4b5563; /* text-gray-700 */
        border: none;
        cursor: pointer;
        transition: background-color 0.15s;
        font-size: 1rem;
        outline: none;
      }

      #button-container button:hover {
        background-color: #d1d5db; /* hover:bg-gray-300 */
      }

      /* Tombol X pada tab sidebar */
      .tab .close-btn {
        opacity: 0;
        position: absolute;
        right: 0.75rem;
        top: 50%;
        transform: translateY(-50%);
        transition: opacity 0.2s;
      }
      .tab.group:hover .close-btn {
        opacity: 1;
      }
    </style>
  </head>

  <body>
    <!-- Header (ID: browser-tools) -->
    <div
      id="browser-tools"
      class="h-12 bg-white flex items-center px-4 border-b border-gray-300"
      style="
        display: flex;
        width: 100%;
        height: 3rem;
        background-color: #ffffff;
        border-bottom: 1px solid #e5e7eb;
        padding: 0 1rem;
      "
    >
      <!-- Kontainer Tombol Navigasi (ID: button-container) -->
      <div
        id="button-container"
        class="flex items-center space-x-2"
        style="display: flex; align-items: center; gap: 0.5rem"
      >
        <!-- back-button -->
        <button
          id="back-button"
          class="flex items-center justify-center w-8 h-8 rounded-full text-gray-700 bg-gray-200 hover:bg-gray-300 focus:outline-none"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="2"
            stroke="currentColor"
            class="w-4 h-4"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M15.75 19.5L8.25 12l7.5-7.5"
            />
          </svg>
        </button>

        <!-- forward-button -->
        <button
          id="forward-button"
          class="flex items-center justify-center w-8 h-8 rounded-full text-gray-700 bg-gray-200 hover:bg-gray-300 focus:outline-none"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="2"
            stroke="currentColor"
            class="w-4 h-4"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M8.25 4.5l7.5 7.5-7.5 7.5"
            />
          </svg>
        </button>

        <!-- reload-button -->
        <button
          id="reload-button"
          class="flex items-center justify-center w-8 h-8 rounded-full text-gray-700 bg-gray-200 hover:bg-gray-300 focus:outline-none"
        >
          <!-- Reload Icon -->
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="2"
            stroke="currentColor"
            class="w-4 h-4"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"
            />
          </svg>
        </button>

        <!-- search-button -->
        <button
          id="search-button"
          class="flex items-center justify-center w-8 h-8 rounded-full text-gray-700 bg-gray-200 hover:bg-gray-300 focus:outline-none"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-4 h-4"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
            />
          </svg>
        </button>
      </div>

      <!-- Address Bar (URL Input) -->
      <form
        style="flex-grow: 1; display: flex; align-items: center; margin: 0 1rem"
      >
        <div
          class="bg-gray-100 h-8 rounded-full flex border border-gray-300"
          style="
            background-color: #f3f4f6;
            height: 2rem;
            border-radius: 9999px;
            display: flex;
            align-items: center;
            width: 100%;
          "
        >
          <input
            id="url-input"
            required
            class="w-full h-full"
            placeholder="URL atau pencarian"
            style="
              color: #5f5f5f;
              border: none;
              outline: none;
              background-color: transparent;
            "
          />
        </div>
      </form>

      <!-- **NEW: Tombol Identity dan Tombol Go (Diposisikan di kanan Address Bar)** -->
      <div class="flex items-center space-x-2">
        <!-- Identity Button -->
        <button
          id="identity-button"
          class="flex items-center justify-center w-8 h-8 rounded-full text-blue-700 bg-blue-200 hover:bg-blue-300 focus:outline-none"
          title="Show Ziti Identities"
        >
          <!-- User Icon (representing Identity) -->
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="w-5 h-5"
          >
            <path
              fill-rule="evenodd"
              d="M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.73 0-5.45-.608-7.962-1.7a.75.75 0 01-.438-.695z"
              clip-rule="evenodd"
            />
          </svg>
        </button>
        <!-- hidden -->
        <button id="go" class="hidden">go</button>
      </div>
    </div>

      <!-- hidden -->
      <button id="go" class="hidden">go</button>
    </div>

    <!-- Main Content Area -->
    <div class="flex flex-grow overflow-hidden">
      <!------------------------------- SIDEBAR ---------------------------- -->
      <aside
        id="sidebar"
        class="sidebar w-64 bg-white flex flex-col border-r border-gray-300 z-10"
        style="padding-bottom: 1rem"
      >
        <!-- Top Section with Collapse Button -->
        <div class="flex justify-end mb-4 px-4 pt-4">
          <button
            id="collapse-btn"
            class="flex items-center justify-center w-6 h-6 rounded-full text-gray-700 bg-gray-200 hover:bg-gray-300 focus:outline-none transition-transform duration-300 transform"
          >
            <!-- Collapse Icon -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-4 h-4"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M15.75 19.5L8.25 12l7.5-7.5"
              />
            </svg>
          </button>
        </div>

        <!-- Scrollable Sidebar Content -->
        <div
          id="sidebar-content"
          class="flex-grow no-scrollbar overflow-y-auto space-y-2"
        >
          <!-- Header TABS - Menggunakan PX-4 agar sejajar dengan elemen di bawahnya -->
          <div class="text-xs font-semibold text-gray-600 uppercase px-4">
            TABS
          </div>

          <!-- Dynamic Tabs Container (Diisi oleh renderer.js) -->
          <!-- Menghilangkan padding horizontal di sini karena sudah ada di item tab -->
          <div id="tabs-container" class="space-y-1">
            <!-- Tab akan dirender oleh renderer.js sebagai button. Gunakan kelas 'p-2' di renderer.js -->
          </div>

          <!-- New Tab Button - Menggunakan PX-2 yang sama seperti item tab -->
          <a
            href="#"
            id="new-tab-button"
            class="flex items-center px-4 py-2 rounded-md hover:bg-gray-200 transition-colors duration-200 space-x-2"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-5 h-5 text-gray-500"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M12 4.5v15m7.5-7.5h-15"
              />
            </svg>
            <span class="text-sm">Add New Tab</span>
          </a>
        </div>
      </aside>

      <!----------------------------- Content Area ---------------------------->
      <main id="main-content" class="main-content flex-grow bg-[#f0f0f0]">
        <webview
          id="webview"
          src=""
          style="width: 100%; height: 100%"
        ></webview>
      </main>
    </div>

    <script type="module" src="/src/renderer.js"></script>
  </body>
</html>
